# ============================================
# Wasil Ride Service - Environment Configuration
# Customized for Juba, South Sudan
# ============================================

# Server Configuration
NODE_ENV=development
RIDE_SERVICE_PORT=3002
SOCKET_IO_PORT=3003

# ============================================
# Database Configuration
# ============================================

# PostgreSQL Configuration
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=wasil_rides
POSTGRES_USER=wasil
POSTGRES_PASSWORD=your_password_here

# MongoDB Configuration (for tracking data)
MONGODB_URI=mongodb://localhost:27017/wasil_tracking

# Redis Configuration (for caching & real-time)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# RabbitMQ Configuration
RABBITMQ_URL=amqp://localhost:5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# ============================================
# Authentication
# ============================================

# JWT Configuration (same as User Service)
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=24h

# User Service URL (for validation)
USER_SERVICE_URL=http://localhost:3001

# ============================================
# Location Settings - Juba, South Sudan
# ============================================

# Country & City
COUNTRY=SS
CITY=Juba
TIMEZONE=Africa/Juba

# Default Location (Juba City Center)
DEFAULT_LATITUDE=4.8517
DEFAULT_LONGITUDE=31.5825

# Service Radius
MAX_SERVICE_RADIUS_KM=15
DEFAULT_DRIVER_SEARCH_RADIUS_KM=3

# ============================================
# Currency - South Sudanese Pound (SSP)
# ============================================

CURRENCY=SSP
CURRENCY_SYMBOL=SSP
USD_TO_SSP_RATE=1300

# ============================================
# Fare Configuration (all values in SSP)
# ============================================

# Base Fares
BASE_FARE=500
MINIMUM_FARE=1000

# Cost per km by ride type
COST_PER_KM_BODA=200
COST_PER_KM_STANDARD=300
COST_PER_KM_PREMIUM=500

# Cost per minute by ride type
COST_PER_MIN_BODA=30
COST_PER_MIN_STANDARD=50
COST_PER_MIN_PREMIUM=80

# Legacy (for backward compatibility)
COST_PER_MILE=480

# Surge Pricing
DEFAULT_SURGE_MULTIPLIER=1.0
MAX_SURGE_MULTIPLIER=3.0

# Fees
BOOKING_FEE=100
CANCELLATION_FEE=500
NIGHT_SAFETY_FEE=500
WAITING_FEE=50

# ============================================
# Driver Search Configuration
# ============================================

MAX_DRIVER_SEARCH_RADIUS=5
MAX_DRIVER_WAIT_TIME=300000
MAX_DRIVERS_TO_NOTIFY=5

# ============================================
# Safety Features
# ============================================

NIGHT_SERVICE_ENABLED=true
NIGHT_MULTIPLIER=1.5
CURFEW_ENABLED=false
DRIVER_VERIFICATION_REQUIRED=true

# ============================================
# Languages
# ============================================

SUPPORTED_LANGUAGES=en,ar,din,nue,bri
DEFAULT_LANGUAGE=en

# ============================================
# SMS & Communication
# Africa's Talking for SMS in South Sudan
# ============================================

SMS_PROVIDER=africastalking
SMS_API_KEY=your_africastalking_api_key
SMS_USERNAME=your_username
WHATSAPP_ENABLED=true
COUNTRY_CODE=+211

# SMS Templates (will be stored in DB, these are defaults)
SMS_RIDE_ACCEPTED="Driver {driverName} accepted your ride. Vehicle: {vehicleDetails}. Call: {phone}"
SMS_DRIVER_ARRIVED="Your driver has arrived at pickup location"
SMS_RIDE_COMPLETED="Ride completed. Fare: {fare} SSP. Thank you for using Wasil!"

# ============================================
# Push Notifications - Firebase
# ============================================

FIREBASE_PROJECT_ID=wasil-juba
FIREBASE_CREDENTIALS_PATH=./firebase-credentials.json

# ============================================
# Payment Providers
# ============================================

# MTN Mobile Money (South Sudan)
MTN_API_URL=https://api.mtn.com/ss
MTN_API_KEY=your_mtn_api_key
MTN_MERCHANT_ID=your_merchant_id

# Zain Cash (South Sudan)
ZAIN_API_URL=https://api.zain.com/ss
ZAIN_API_KEY=your_zain_api_key
ZAIN_MERCHANT_ID=your_merchant_id

# Card Payments (Paystack)
PAYSTACK_SECRET_KEY=your_paystack_secret_key
PAYSTACK_PUBLIC_KEY=your_paystack_public_key

# ============================================
# Google Maps
# ============================================

GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# ============================================
# Commission Settings
# ============================================

# Wasil takes 20% commission
COMMISSION_RATE=0.20

# ============================================
# Logging
# ============================================

LOG_LEVEL=info
LOG_FORMAT=json

# ============================================
# Rate Limiting
# ============================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================
# Monitoring & Analytics
# ============================================

SENTRY_DSN=your_sentry_dsn
ANALYTICS_ENABLED=true
